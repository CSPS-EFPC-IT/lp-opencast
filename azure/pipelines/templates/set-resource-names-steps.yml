parameters:
- name: applicationGatewayNetworkSecurityGroupNameVariableName
  type: string
- name: applicationGatewaySubnetNameVariableName
  type: string
- name: applicationNetworkSecurityGroupNameVariableName
  type: string
- name: applicationSubnetNameVariableName
  type: string
- name: dataNetworkSecurityGroupNameVariableName
  type: string
- name: dataSubnetNameVariableName
  type: string
- name: environmentName
  type: string
- name: solutionName
  type: string
- name: virtualNetworkNameVariableName
  type: string

steps:
- task: Bash@3
  displayName: "Set Application Gateway's Network Security Group's Resource Name Variable"
  inputs:
    filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
    arguments: >-
      --component-name "AG"
      --environment-name "${{ parameters.environmentName }}"
      --resource-type "Microsoft.Network/networkSecurityGroups"
      --solution-name "${{ parameters.solutionName }}"
      --variable-name "${{ parameters.applicationGatewayNetworkSecurityGroupNameVariableName }}"

- task: Bash@3
  displayName: "Set Application's Network Security Group's Resource Name Variable"
  inputs:
    filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
    arguments: >-
      --component-name "App"
      --environment-name "${{ parameters.environmentName }}"
      --resource-type "Microsoft.Network/networkSecurityGroups"
      --solution-name "${{ parameters.solutionName }}"
      --variable-name "${{ parameters.applicationNetworkSecurityGroupNameVariableName }}"

- task: Bash@3
  displayName: "Set Data's Network Security Group's Resource Name Variable"
  inputs:
    filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
    arguments: >-
      --component-name "Data"
      --environment-name "${{ parameters.environmentName }}"
      --resource-type "Microsoft.Network/networkSecurityGroups"
      --solution-name "${{ parameters.solutionName }}"
      --variable-name "${{ parameters.dataNetworkSecurityGroupNameVariableName }}"

- task: Bash@3
  displayName: "Set Virtual Network's Resource Name Variable"
  inputs:
    filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
    arguments: >-
      --environment-name "${{ parameters.environmentName }}"
      --resource-type "Microsoft.Network/virtualNetworks"
      --solution-name "${{ parameters.solutionName }}"
      --variable-name "${{ parameters.virtualNetworkNameVariableName }}"

- task: Bash@3
  displayName: "Set Application Gatway's VNet Subnet's Name Variable"
  inputs:
    filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
    arguments: >-
      --component-name "AG"
      --environment-name "${{ parameters.environmentName }}"
      --resource-type "Microsoft.Network/virtualNetworks/subnets"
      --solution-name "${{ parameters.solutionName }}"
      --variable-name "${{ parameters.applicationGatewaySubnetNameVariableName }}"

- task: Bash@3
  displayName: "Set Application's VNet Subnet's Name Variable"
  inputs:
    filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
    arguments: >-
      --component-name "App"
      --environment-name "${{ parameters.environmentName }}"
      --resource-type "Microsoft.Network/virtualNetworks/subnets"
      --solution-name "${{ parameters.solutionName }}"
      --variable-name "${{ parameters.applicationSubnetNameVariableName }}"

- task: Bash@3
  displayName: "Set Data's VNet Subnet's Name Variable"
  inputs:
    filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
    arguments: >-
      --component-name "Data"
      --environment-name "${{ parameters.environmentName }}"
      --resource-type "Microsoft.Network/virtualNetworks/subnets"
      --solution-name "${{ parameters.solutionName }}"
      --variable-name "${{ parameters.dataSubnetNameVariableName }}"

# # Set Application Gateway resource name
# - task: Bash@3
#   displayName: 'Set Application Gateway Resource Name Variable'
#   inputs:
#     filePath: 'lp-opencast/azure/scripts/set_resource_name_variable.sh'
#     arguments: >-
#       --environment-name "$(environmentName)
#       --resource-type "Microsoft.Network/applicationGateways"
#       --solution-name "$(solutionName)"
#       --variable-name "applicationGatewayName"
